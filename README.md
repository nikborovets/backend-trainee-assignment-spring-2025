# Backend Trainee Assignment - Сервис ПВЗ

> Тестовое задание для прохождения отбора на стажировку в Авито (Весна 2025).

Проект сервиса для работы с Пунктами Выдачи Заказов (ПВЗ) для Авито, реализуемый с использованием принципов Чистой Архитектуры на Go.

## Структура проекта

Проект следует принципам Чистой Архитектуры с четкими слоями:
- **Entities**: Бизнес-объекты и правила
- **Use Cases**: Бизнес-логика приложения
- **Interfaces**: Адаптеры между слоями
- **Infrastructure**: Реализация всей инфраструктуры

## Прогресс выполнения

### Базовый функционал

- [ ] **Настройка проекта**
  - [x] Инициализация Git-репозитория
  - [x] Создание .gitignore
  - [x] Создание PUML-диаграммы архитектуры проекта (ЧА)
  - [x] Настройка структуры проекта в соответствии с чистой архитектурой
    - [x] Создание директорий: cmd/service, internal/entities, internal/usecases, internal/interfaces, internal/infrastructure, configs, test
    - [x] Инициализация go.mod (Go module)
    - [x] Настройка структуры проекта в соответствии с чистой архитектурой
  - [ ] Настройка Docker и Docker Compose

- [x] **Domain Layer (Entities)**
  - [x] Определение моделей данных (User, PVZ, Reception, Product)
  - [x] Определение правил бизнес-логики

- [ ] **Use Cases**
  - [ ] Авторизация пользователей (dummy)
  - [ ] Регистрация и авторизация пользователей
  - [ ] Управление ПВЗ
  - [ ] Управление приемкой товаров
  - [ ] Управление товарами
  - [ ] Получение данных с фильтрацией

- [ ] **Interfaces Layer**
  - [ ] Определение репозиториев (интерфейсы)
  - [ ] Определение контроллеров
  - [ ] Определение DTO

- [ ] **Infrastructure Layer**
  - [ ] **Базы данных**
    - [ ] Настройка PostgreSQL
    - [ ] Реализация SQL-запросов и репозиториев
    
  - [ ] **HTTP сервер**
    - [ ] Настройка HTTP сервера (Gin)
    - [ ] Реализация эндпоинтов авторизации
      - [ ] POST /dummyLogin
      - [ ] POST /register
      - [ ] POST /login
    - [ ] Реализация эндпоинтов ПВЗ
      - [ ] POST /pvz
      - [ ] GET /pvz
      - [ ] POST /pvz/{pvzId}/close_last_reception
      - [ ] POST /pvz/{pvzId}/delete_last_product
    - [ ] Реализация эндпоинтов приемки
      - [ ] POST /receptions
    - [ ] Реализация эндпоинтов товаров
      - [ ] POST /products

- [ ] **Тесты**
  - [ ] Unit-тесты (покрытие > 75%)
  - [ ] Интеграционный тест сценария работы с ПВЗ и товарами

### Дополнительные задания

- [ ] **Авторизация**
  - [ ] Полная реализация авторизации (регистрация и логин)

- [ ] **GRPC**
  - [ ] Настройка gRPC сервера
  - [ ] Реализация метода GetPVZList

- [ ] **Метрики Prometheus**
  - [ ] Сбор технических метрик (количество запросов, время ответа)
  - [ ] Сбор бизнес-метрик (количество ПВЗ, приемок, товаров)
  - [ ] Настройка эндпоинта /metrics

- [ ] **Логирование**
  - [ ] Настройка централизованного логирования
  - [ ] Логирование ключевых операций

- [ ] **Кодогенерация**
  - [ ] Настройка генерации DTO по OpenAPI схеме

## Запуск проекта

```bash
# Клонирование репозитория
git clone https://github.com/nikborovets/backend-trainee-assignment-spring-2025.git
cd backend-trainee-assignment-spring-2025

# Запуск через Docker
docker-compose up -d
```

## Порты

- **HTTP API**: 8080
- **gRPC**: 3000
- **Prometheus**: 9000
